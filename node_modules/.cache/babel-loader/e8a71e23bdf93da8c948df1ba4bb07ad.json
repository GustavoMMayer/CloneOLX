{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Documents\\\\Gustavo\\\\React\\\\Projeto OLX\\\\OLX\\\\FrontEnd\\\\src\\\\pages\\\\SignUp\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { PageArea } from './styled';\nimport useApi from '../../helpers/OlxAPI';\nimport { doLogin } from '../../helpers/AuthHandler';\nimport { PageContainer, PageTitle, ErrorMessage } from '../../components/MainComponents';\nconst Page = () => {\n  const api = useApi();\n  const [name, setName] = useState('');\n  const [stateLoc, setStateLoc] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [stateList, setStateList] = useState([]);\n  const [disabled, setDisabled] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const getStates = async () => {\n      const slist = await api.getStates();\n      setStateList(slist);\n    };\n    getStates();\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setDisabled(true);\n    setError('');\n    if (password !== confirmPassword) {\n      setError('Senhas não batem');\n      setDisabled(false);\n      return;\n    }\n    const json = await api.register(name, email, password, stateLoc);\n    if (json.error) {\n      setError(json.error);\n    } else {\n      doLogin(json.token);\n      window.location.href = '/';\n    }\n    setDisabled(false);\n  };\n  return /*#__PURE__*/React.createElement(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Cadastro\"), /*#__PURE__*/React.createElement(PageArea, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, error && /*#__PURE__*/React.createElement(ErrorMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, error), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"Nome Completo\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    disabled: disabled,\n    value: name,\n    onChange: e => setName(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Estado\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: stateLoc,\n    onChange: e => setStateLoc(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 33\n    }\n  }), stateList.map((i, k) => /*#__PURE__*/React.createElement(\"option\", {\n    key: k,\n    value: i._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 37\n    }\n  }, i.name))))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    disabled: disabled,\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, \"Senha\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    disabled: disabled,\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \"Confirmar Senha\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    disabled: disabled,\n    value: confirmPassword,\n    onChange: e => setConfirmPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"area\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"area--input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, \"Fazer Cadastro\"))))));\n};\nexport default Page;","map":{"version":3,"names":["React","useState","useEffect","PageArea","useApi","doLogin","PageContainer","PageTitle","ErrorMessage","Page","api","name","setName","stateLoc","setStateLoc","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","stateList","setStateList","disabled","setDisabled","error","setError","getStates","slist","handleSubmit","e","preventDefault","json","register","token","window","location","href","target","value","map","i","k","_id"],"sources":["C:/Users/Dell/Documents/Gustavo/React/Projeto OLX/OLX/FrontEnd/src/pages/SignUp/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { PageArea } from './styled';\nimport useApi from '../../helpers/OlxAPI';\nimport { doLogin } from '../../helpers/AuthHandler';\n\nimport { PageContainer, PageTitle, ErrorMessage } from '../../components/MainComponents';\n\nconst Page = () => {\n    const api = useApi();\n\n    const [name, setName] = useState('');\n    const [stateLoc, setStateLoc] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n\n    const [stateList, setStateList] = useState([]);\n\n    const [disabled, setDisabled] = useState(false);\n    const [error, setError] = useState('');\n\n    useEffect(()=>{\n        const getStates = async () => {\n            const slist = await api.getStates();\n            setStateList(slist);\n        }\n        getStates();\n    }, []);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setDisabled(true);\n        setError('');\n\n        if(password !== confirmPassword) {\n            setError('Senhas não batem');\n            setDisabled(false);\n            return;\n        }\n\n        const json = await api.register(name, email, password, stateLoc);\n\n        if(json.error) {\n            setError(json.error);\n        } else {\n            doLogin(json.token);\n            window.location.href = '/';\n        }\n\n        setDisabled(false);\n    }\n\n    return (\n        <PageContainer>\n            <PageTitle>Cadastro</PageTitle>\n            <PageArea>\n                {error &&\n                    <ErrorMessage>{error}</ErrorMessage>\n                }\n\n                <form onSubmit={handleSubmit}>\n                    <label className=\"area\">\n                        <div className=\"area--title\">Nome Completo</div>\n                        <div className=\"area--input\">\n                            <input\n                                type=\"text\"\n                                disabled={disabled}\n                                value={name}\n                                onChange={e=>setName(e.target.value)}\n                                required\n                            />\n                        </div>\n                    </label>\n                    <label className=\"area\">\n                        <div className=\"area--title\">Estado</div>\n                        <div className=\"area--input\">\n                            <select value={stateLoc} onChange={e=>setStateLoc(e.target.value)} required>\n                                <option></option>\n                                {stateList.map((i,k)=>\n                                    <option key={k} value={i._id}>{i.name}</option>\n                                )}\n                            </select>\n                        </div>\n                    </label>\n                    <label className=\"area\">\n                        <div className=\"area--title\">E-mail</div>\n                        <div className=\"area--input\">\n                            <input\n                                type=\"email\"\n                                disabled={disabled}\n                                value={email}\n                                onChange={e=>setEmail(e.target.value)}\n                                required\n                            />\n                        </div>\n                    </label>\n                    <label className=\"area\">\n                        <div className=\"area--title\">Senha</div>\n                        <div className=\"area--input\">\n                            <input\n                                type=\"password\"\n                                disabled={disabled}\n                                value={password}\n                                onChange={e=>setPassword(e.target.value)}\n                                required\n                            />\n                        </div>\n                    </label>\n                    <label className=\"area\">\n                        <div className=\"area--title\">Confirmar Senha</div>\n                        <div className=\"area--input\">\n                            <input\n                                type=\"password\"\n                                disabled={disabled}\n                                value={confirmPassword}\n                                onChange={e=>setConfirmPassword(e.target.value)}\n                                required\n                            />\n                        </div>\n                    </label>\n                    <label className=\"area\">\n                        <div className=\"area--title\"></div>\n                        <div className=\"area--input\">\n                            <button disabled={disabled}>Fazer Cadastro</button>\n                        </div>\n                    </label>\n                </form>\n            </PageArea>\n        </PageContainer>\n    );\n}\n\nexport default Page;"],"mappings":"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"},"metadata":{},"sourceType":"module"}